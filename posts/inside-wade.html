<!doctype html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="description" content="Inside Wade | Kabir Shah's blog."><meta name="author" content="Kabir Shah"><title>Inside Wade | Kabir Shah</title><link rel="shortcut icon" href="../img/logoFill.png"/><link href="https://fonts.googleapis.com/css?family=Inconsolata|Lora" rel="stylesheet"><link rel="stylesheet" type="text/css" href="../fonts/fonts.css"/><link rel="stylesheet" type="text/css" href="../css/lib/wing.min.css"/><link rel="stylesheet" type="text/css" href="../css/post.css"/><link rel="stylesheet" type="text/css" href="../css/post-math.css"/><script>!function(e,a,t,n,g,c,o){e.GoogleAnalyticsObject=g,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),o=a.getElementsByTagName(t)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",o.parentNode.insertBefore(c,o)}(window,document,"script",0,"ga"),ga("create","UA-70792533-7","auto"),ga("send","pageview")</script></head><body><div class="container"><a href="../" id="back"><svg width="37" height="24" viewBox="0 0 37 24" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><title>Arrow</title><path id="back-arrow" d="M36.0607 1.06066c.5857-.585786.5857-1.535534 0-2.12132l-9.546-9.54594c-.5858-.5858-1.5355-.5858-2.1213 0-.5858.5858-.5858 1.53553 0 2.12132L32.8787 0l-8.4853 8.48528c-.5858.58579-.5858 1.53552 0 2.12132.5858.5858 1.5355.5858 2.1213 0l9.546-9.54594zM0 1.5h35v-3H0v3z" transform="rotate(180 18.5 6)" fill="#888"/></svg></a><h1 class="post-title">Inside Wade</h1><h4 class="post-date">July 16, 2017</h4><div class="post-content"><p><a href="https://github.com/KingPixil/wade">Wade</a> is a 1kb Javascript search library. It allows you to search for a query through a set of documents. This query is processed, split into keywords, and then searched within an index structure.</p><h3 id="api">API</h3><p>The API is extremely minimal and self-explanatory. It looks like:</p><pre><code lang="js"><span class="special">const </span><span class="global">search</span> = <span class="method">Wade</span>([<span class="string">&quot;He saves on socks.&quot;</span>, <span class="string">&quot;You are being silly.&quot;</span>]);
<span class="method">search</span>(<span class="string">&quot;save socks&quot;</span>);
</code></pre><h3 id="processor">Processor</h3><p>Wade processes all documents and queries. This works by moving each item through a separate processing function. These do the following operations:</p><ul><li>Make everything lowercase. This helps with searching. All queries and data are made lowercase, resulting in the search not being case-sensitive.</li><li>Remove punctuation. Punctuation is usually irrelevant to the search query and does not need to be searched for.</li><li>Remove stop words. Wade has a list of stop words that are removed from all data and queries. Stop words are extra words that have little meaning or can apply to any item in the data, and removing them allows for more relevant results to be returned. These can be configured through <code>Wade.config.stopWords</code>.</li></ul><h4 id="example">Example</h4><p>When given the data:</p><pre><code lang="js">[<span class="string">&quot;Moon... is the best!&quot;</span>, <span class="string">&quot;Slash is the best!&quot;</span>, <span class="string">&quot;Spark is the best.&quot;</span>, <span class="string">&quot;Wade is the best?&quot;</span>, <span class="string">&quot;A Wing is the best&quot;</span>]
</code></pre><p>It is processed into:</p><pre><code lang="js">[<span class="string">&quot;moon best&quot;</span>, <span class="string">&quot;slash best&quot;</span>, <span class="string">&quot;spark best&quot;</span>, <span class="string">&quot;wade best&quot;</span>, <span class="string">&quot;wing best&quot;</span>]
</code></pre><p>Notice how everything is lowercase, does not contain punctuation, and does not contain stop words.</p><h3 id="index">Index</h3><p>After processing the data, an index can be generated to allow for optimized searches within a text. This index can be generated by:</p><ol><li>Processing each document.</li><li>Splitting each document into a multiset of terms.</li><li>Generating a trie of the terms and storing the indexes of the corresponding documents containing the term.</li><li>Storing the weighted significance of the term in the documents.</li></ol><p>A <em>set</em> is used to store multiple unique items. The <em>cardinality</em> of a set represents the amount of elements in the set.</p><p>On the other hand, a <em>multiset</em> is used to store multiple items (including duplicates). The <em>multiplicity</em> of an item in a multiset is the number of instances of that item in the multiset.</p><h4 id="significance">Significance</h4><p>Wade uses a special function to find how significant a term is to the data. This function takes in many factors, including the length of the documents, the length of a specific document with the term, and the number of occurrences of the term.</p><p>The significance of the term <em>t</em> in the set of documents <em>d</em> can be represented by the function:</p><span class="mjx-chtml MJXc-display post-math" style="text-align: center"><span class="mjx-math" aria-label="wm(t, d) = 1.5 - \frac{\sum_{i=0}^{|d|} [\frac{\mu(t)}{\sum_{p \in d_i}(\mu(p))}]}{|d|}
"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em">w</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.298em">m</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.372em; padding-bottom: 0.298em">t</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="margin-top: -0.144em; padding-bottom: 0.519em">,</span></span><span class="mjx-mi MJXc-space1"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.003em">d</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em">)</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em">=</span></span><span class="mjx-mn MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em">1.5</span></span><span class="mjx-mo MJXc-space2"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.298em; padding-bottom: 0.446em">−</span></span><span class="mjx-mfrac MJXc-space2"><span class="mjx-box MJXc-stacked" style="width: 7.264em; padding: 0px 0.12em"><span class="mjx-numerator" style="width: 7.264em; top: -2.7em"><span class="mjx-mrow"><span class="mjx-munderover"><span class="mjx-base"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-size1-R" style="padding-top: 0.519em; padding-bottom: 0.519em">∑</span></span></span><span class="mjx-stack" style="vertical-align: -0.315em"><span class="mjx-sup" style="font-size: 70.7%; padding-bottom: 0.255em; padding-left: 0px; padding-right: 0.071em"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em">|</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.003em">d</span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em">|</span></span></span></span></span></span></span><span class="mjx-sub" style="font-size: 70.7%; padding-right: 0.071em"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em">i</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.077em; padding-bottom: 0.298em">=</span></span><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em">0</span></span></span></span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em">[</span></span><span class="mjx-mfrac"><span class="mjx-box MJXc-stacked" style="width: 4.029em; padding: 0px 0.12em"><span class="mjx-numerator" style="font-size: 70.7%; width: 5.697em; top: -1.706em"><span class="mjx-mrow" style=""><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em">μ</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.372em; padding-bottom: 0.298em">t</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em">)</span></span></span></span><span class="mjx-denominator" style="font-size: 70.7%; width: 5.697em; bottom: -1.348em"><span class="mjx-mrow" style=""><span class="mjx-munderover"><span class="mjx-base"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-size1-R" style="padding-top: 0.519em; padding-bottom: 0.519em">∑</span></span></span><span class="mjx-sub" style="font-size: 83.3%; vertical-align: -0.38em; padding-right: 0.06em"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.446em">p</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em">∈</span></span><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.003em"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.003em">d</span></span></span><span class="mjx-sub" style="vertical-align: -0.332em; padding-right: 0.05em"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em">i</span></span></span></span></span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em">μ</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.446em">p</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em">)</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em">)</span></span></span></span><span style="border-bottom: 1.3px solid; top: -0.296em; width: 4.029em" class="mjx-line"></span></span><span style="height: 2.16em; vertical-align: -0.953em" class="mjx-vsize"></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em">]</span></span></span></span><span class="mjx-denominator" style="width: 7.264em; bottom: -1.089em"><span class="mjx-mrow"><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em">|</span></span></span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.003em">d</span></span><span class="mjx-texatom"><span class="mjx-mrow"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em">|</span></span></span></span></span></span><span style="border-bottom: 1.3px solid; top: -0.296em; width: 7.264em" class="mjx-line"></span></span><span style="height: 3.789em; vertical-align: -1.089em" class="mjx-vsize"></span></span></span></span></span><ol><li><span class="mjx-chtml post-math-inline" style="text-align: center"><span class="mjx-math" aria-label="f"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.519em; padding-bottom: 0.519em; padding-right: 0.06em">f</span></span></span></span></span> is a set of multisets <span class="mjx-chtml post-math-inline" style="text-align: center"><span class="mjx-math" aria-label="d_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.003em"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.003em">d</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em">i</span></span></span></span></span></span></span></li><li><span class="mjx-chtml post-math-inline" style="text-align: center"><span class="mjx-math" aria-label="t \in d_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.372em; padding-bottom: 0.298em">t</span></span><span class="mjx-mo MJXc-space3"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em">∈</span></span><span class="mjx-msubsup MJXc-space3"><span class="mjx-base" style="margin-right: -0.003em"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.003em">d</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em">i</span></span></span></span></span></span></span> for at least one <span class="mjx-chtml post-math-inline" style="text-align: center"><span class="mjx-math" aria-label="d_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.003em"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.003em">d</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em">i</span></span></span></span></span></span></span></li><li><span class="mjx-chtml post-math-inline" style="text-align: center"><span class="mjx-math" aria-label="\mu(t)"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em">μ</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.372em; padding-bottom: 0.298em">t</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em">)</span></span></span></span></span> is the multiplicity of <span class="mjx-chtml post-math-inline" style="text-align: center"><span class="mjx-math" aria-label="t"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.372em; padding-bottom: 0.298em">t</span></span></span></span></span> in the multiset <span class="mjx-chtml post-math-inline" style="text-align: center"><span class="mjx-math" aria-label="d_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.003em"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.003em">d</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em">i</span></span></span></span></span></span></span></li><li><span class="mjx-chtml post-math-inline" style="text-align: center"><span class="mjx-math" aria-label="\sum_{p \in d_i}(\mu(p))"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-munderover"><span class="mjx-itable"><span class="mjx-row"><span class="mjx-cell"><span class="mjx-op"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-size2-R" style="padding-top: 0.74em; padding-bottom: 0.74em">∑</span></span></span></span></span><span class="mjx-row"><span class="mjx-under" style="font-size: 70.7%; padding-top: 0.236em; padding-bottom: 0.141em; padding-left: 0.011em"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.446em">p</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em">∈</span></span><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.003em"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.003em">d</span></span></span><span class="mjx-sub" style="font-size: 83.3%; vertical-align: -0.262em; padding-right: 0.06em"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em">i</span></span></span></span></span></span></span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em">μ</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.446em">p</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em">)</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em">)</span></span></span></span></span> is the cardinality of the multiset <span class="mjx-chtml post-math-inline" style="text-align: center"><span class="mjx-math" aria-label="d_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.003em"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.003em">d</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em">i</span></span></span></span></span></span></span></li><li><span class="mjx-chtml post-math-inline" style="text-align: center"><span class="mjx-math" aria-label="\frac{\mu(t)}{\sum_{p \in d_i}(\mu(p))}"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mfrac"><span class="mjx-box MJXc-stacked" style="width: 5.381em; padding: 0px 0.12em"><span class="mjx-numerator" style="width: 5.381em; top: -1.59em"><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em">μ</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.372em; padding-bottom: 0.298em">t</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em">)</span></span></span></span><span class="mjx-denominator" style="width: 5.381em; bottom: -1.301em"><span class="mjx-mrow"><span class="mjx-munderover"><span class="mjx-base"><span class="mjx-mo"><span class="mjx-char MJXc-TeX-size1-R" style="padding-top: 0.519em; padding-bottom: 0.519em">∑</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.439em; padding-right: 0.071em"><span class="mjx-texatom" style=""><span class="mjx-mrow"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.446em">p</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.225em; padding-bottom: 0.372em">∈</span></span><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.003em"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.003em">d</span></span></span><span class="mjx-sub" style="font-size: 83.3%; vertical-align: -0.262em; padding-right: 0.06em"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em">i</span></span></span></span></span></span></span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.519em">μ</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em">(</span></span><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.225em; padding-bottom: 0.446em">p</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em">)</span></span><span class="mjx-mo"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.446em; padding-bottom: 0.593em">)</span></span></span></span><span style="border-bottom: 1.3px solid; top: -0.296em; width: 5.381em" class="mjx-line"></span></span><span style="height: 2.891em; vertical-align: -1.301em" class="mjx-vsize"></span></span></span></span></span> is the ratio of occurrences of the term <span class="mjx-chtml post-math-inline" style="text-align: center"><span class="mjx-math" aria-label="t"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.372em; padding-bottom: 0.298em">t</span></span></span></span></span> in the document <span class="mjx-chtml post-math-inline" style="text-align: center"><span class="mjx-math" aria-label="d_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.003em"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.003em">d</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em">i</span></span></span></span></span></span></span> to the total amount of terms in the document <span class="mjx-chtml post-math-inline" style="text-align: center"><span class="mjx-math" aria-label="d_i"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-msubsup"><span class="mjx-base" style="margin-right: -0.003em"><span class="mjx-mi"><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em; padding-right: 0.003em">d</span></span></span><span class="mjx-sub" style="font-size: 70.7%; vertical-align: -0.212em; padding-right: 0.071em"><span class="mjx-mi" style=""><span class="mjx-char MJXc-TeX-math-I" style="padding-top: 0.446em; padding-bottom: 0.298em">i</span></span></span></span></span></span></span></li></ol><p>This works by finding the average of how often the term appears within a document. After this, the significance is normalized between <span class="mjx-chtml post-math-inline" style="text-align: center"><span class="mjx-math" aria-label="0.5"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em">0.5</span></span></span></span></span> and <span class="mjx-chtml post-math-inline" style="text-align: center"><span class="mjx-math" aria-label="1.5"><span class="mjx-mrow" aria-hidden="true"><span class="mjx-mn"><span class="mjx-char MJXc-TeX-main-R" style="padding-top: 0.372em; padding-bottom: 0.372em">1.5</span></span></span></span></span>, allowing it to become higher when the average occurrence is lower. This allows for rarer terms to be amplified in significance.</p><h4 id="example">Example</h4><p>When given the processed data:</p><pre><code lang="js">[<span class="string">&quot;moon best&quot;</span>, <span class="string">&quot;slash best&quot;</span>, <span class="string">&quot;spark best&quot;</span>, <span class="string">&quot;wade best&quot;</span>, <span class="string">&quot;wing best&quot;</span>]
</code></pre><p>An index is generated:</p><pre><code lang="js">{
  <span class="string">&quot;m&quot;</span>: {
    <span class="string">&quot;o&quot;</span>: {
      <span class="string">&quot;o&quot;</span>: {
        <span class="string">&quot;n&quot;</span>: {
          <span class="string">&quot;data&quot;</span>: [
            <span class="global">1.4</span>,
            <span class="global">0</span>
          ]
        }
      }
    }
  },
  <span class="string">&quot;b&quot;</span>: {
    <span class="string">&quot;e&quot;</span>: {
      <span class="string">&quot;s&quot;</span>: {
        <span class="string">&quot;t&quot;</span>: {
          <span class="string">&quot;data&quot;</span>: [
            <span class="global">1</span>,
            <span class="global">0</span>,
            <span class="global">1</span>,
            <span class="global">2</span>,
            <span class="global">3</span>,
            <span class="global">4</span>
          ]
        }
      }
    }
  },
  <span class="string">&quot;s&quot;</span>: {
    <span class="string">&quot;l&quot;</span>: {
      <span class="string">&quot;a&quot;</span>: {
        <span class="string">&quot;s&quot;</span>: {
          <span class="string">&quot;h&quot;</span>: {
            <span class="string">&quot;data&quot;</span>: [
              <span class="global">1.4</span>,
              <span class="global">1</span>
            ]
          }
        }
      }
    },
    <span class="string">&quot;p&quot;</span>: {
      <span class="string">&quot;a&quot;</span>: {
        <span class="string">&quot;r&quot;</span>: {
          <span class="string">&quot;k&quot;</span>: {
            <span class="string">&quot;data&quot;</span>: [
              <span class="global">1.4</span>,
              <span class="global">2</span>
            ]
          }
        }
      }
    }
  },
  <span class="string">&quot;w&quot;</span>: {
    <span class="string">&quot;a&quot;</span>: {
      <span class="string">&quot;d&quot;</span>: {
        <span class="string">&quot;e&quot;</span>: {
          <span class="string">&quot;data&quot;</span>: [
            <span class="global">1.4</span>,
            <span class="global">3</span>
          ]
        }
      }
    },
    <span class="string">&quot;i&quot;</span>: {
      <span class="string">&quot;n&quot;</span>: {
        <span class="string">&quot;g&quot;</span>: {
          <span class="string">&quot;data&quot;</span>: [
            <span class="global">1.4</span>,
            <span class="global">4</span>
          ]
        }
      }
    }
  }
}
</code></pre><p>This is a map of every single character, so that they can be searched through individually. At the end of a specific term, there is a <code>data</code> property. The first item in this array is the significance of the term. The other items are the indexes of the documents in which the term appears.</p><p>Notice how the unique terms <code><span class="string">&quot;moon&quot;</span></code>, <code><span class="string">&quot;slash&quot;</span></code>, <code><span class="string">&quot;spark&quot;</span></code>, <code><span class="string">&quot;wade&quot;</span></code>, and <code><span class="string">&quot;wing&quot;</span></code> all have a higher weight of <code><span class="global">1.4</span></code>. In contrast, the term <code><span class="string">&quot;best&quot;</span></code> appears in all of the documents half of the time, and has a lower weight of <code><span class="global">1</span></code>.</p><h3 id="search">Search</h3><p>To be done</p><h3 id="conclusion">Conclusion</h3><p>In a nutshell, Wade processes data, splits it into terms, and creates an index containing the indexes of the items along with how relevant each term is to the data. A query is also processed and split into terms. These terms are individually searched within the index and the scores are updated as needed.</p><p>Be sure to check out the source on <a href="https://github.com/kbrsh/wade">GitHub</a></p></div></div></body></html>